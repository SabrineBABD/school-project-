<app-banner [title]="'Sign up'"></app-banner>

<div class="site-section">
    <div class="container">
        <div class="row">
            <form [formGroup]="signupForm"  class="col-md-12" >
                <div class="col-md-12 form-group">
                    <label for="fname">First Name</label>
                    <input type="text" formControlName="firstName" id="fname" class="form-control form-control-lg">
                    <div class="text-danger" *ngIf="signupForm.controls['firstName'].invalid &&
                    (signupForm.controls['firstName'].dirty || signupForm.controls['firstName'].touched)">
                      <div *ngIf="signupForm.controls['firstName'].errors?.minlength">Min len</div>
                      <div *ngIf="signupForm.controls['firstName'].errors?.required">Req</div>


                  </div>
                </div>
                <div class="col-md-12 form-group">
                    <label for="lname">Last Name</label>
                    <input type="text" formControlName="lastName" id="lname" class="form-control form-control-lg">
                    <div class="text-danger" *ngIf="signupForm.controls['lastName'].invalid &&
                      (signupForm.controls['lastName'].dirty || signupForm.controls['lastName'].touched)">

                        <div *ngIf="signupForm.controls['lastName'].errors?.minlength">Min len</div>
                        <div *ngIf="signupForm.controls['lastName'].errors?.required">Req</div>


                    </div>

                </div>

                <div class="col-12 form-group">
                    <label for="email">Email Address</label>
                    <input type="email" formControlName="email" id="eaddress" class="form-control form-control-lg">
                    <div class="text-danger"  *ngIf="signupForm.controls['email'].invalid &&
                          (signupForm.controls['email'].dirty || signupForm.controls['email'].touched)"> 
        
                             <div *ngIf="signupForm.controls['email'].errors?.email">Email non Valid</div>
                             <div *ngIf="signupForm.controls['email'].errors?.required">Req</div>
                        </div>
                </div>

                 <div class="col-12 form-group">
                    <label for="tel">Tel. Number</label>
                    <input type="number" formControlName="tel" id="tel" class="form-control form-control-lg">
                    <div class="text-danger"  *ngIf="signupForm.controls['tel'].invalid &&
                    (signupForm.controls['tel'].dirty || signupForm.controls['tel'].touched)"> 
                    <div *ngIf="signupForm.get('tel').hasError('pattern')">
                        Please enter a valid phone number with exactly 8 digits. </div>
                        <div *ngIf="signupForm.controls['tel'].errors?.required">Req</div>
                    </div>
                </div>


                 <div *ngIf="role==='Parent'" class="col-12 form-group">
                    <label for="childTel"> Child Tel. Number</label>
                    <input type="number" formControlName="childTel" id="childTel" class="form-control form-control-lg">
                    <div class="text-danger"  *ngIf="signupForm.controls['childTel'].invalid &&
                    (signupForm.controls['childTel'].dirty || signupForm.controls['childTel'].touched)"> 
                    <div *ngIf="signupForm.get('childTel').hasError('pattern')">
                        Please enter a valid phone number with exactly 8 digits. </div>
                        <div *ngIf="signupForm.controls['childTel'].errors?.required">Req</div>
                    </div>
                </div>  



                <div class="col-12 form-group">
                    <label for="address"> Address</label>
                    <input type="text" formControlName="address" id="address" class="form-control form-control-lg">
                    <div class="text-danger" *ngIf="signupForm.controls['address'].invalid &&
                    (signupForm.controls['address'].dirty || signupForm.controls['address'].touched)">

                      <div *ngIf="signupForm.controls['address'].errors?.minlength">Min len</div>
                      <div *ngIf="signupForm.controls['address'].errors?.required">Req</div>


                  </div>
                </div>

                 <div class="col-12 form-group">
                    <label for="password">Password</label>
                    <input type="password" formControlName="password" id="password" class="form-control form-control-lg">
                    <div class="text-danger" *ngIf="signupForm.controls['password'].invalid &&
                    (signupForm.controls['address'].dirty || signupForm.controls['password'].touched)">

                      <div *ngIf="signupForm.controls['password'].errors?.minlength">Min len</div>
                      <div *ngIf="signupForm.controls['password'].errors?.required">Req</div> 


                 </div> 
                </div> 

             <div class="col-12 form-group">
                    <label for="cPassword">Confirm Password</label>
                    <input type="password"  formControlName="cPassword" id="cPassword" class="form-control form-control-lg">
                    <div class="text-danger"  *ngIf="signupForm.controls['cPassword'].invalid &&
                    (signupForm.controls['cPassword'].dirty || signupForm.controls['cPassword'].touched)"> 
     
                      <div *ngIf="signupForm.controls['cPassword'].errors?.mustMatch">Must Match</div>
                   
     
                   </div>
                </div> 


                <div *ngIf="role==='Teacher'" class="col-12 form-group">
                    <label for="speciality"> Speciality</label>
                    <input type="text" formControlName="speciality" id="speciality" class="form-control form-control-lg">
                    <div class="text-danger" *ngIf="signupForm.controls['speciality'].invalid &&
                    (signupForm.controls['speciality'].dirty || signupForm.controls['speciality'].touched)">

                      <div *ngIf="signupForm.controls['speciality'].errors?.minlength">Min len</div>
                      <div *ngIf="signupForm.controls['speciality'].errors?.required">Req</div>


                  </div>
                </div>
                  <div *ngIf="role==='Teacher'" class="col-12 form-group mt-3">
                    <input type="file" (change)="onFileSelected($event)" />
                    <button class="btn btn-success" (click)="onUpload()">Upload</button>
                </div> 

                <div *ngIf="role==='Student'||role==='Teacher'" class="col-12 form-group mt-3">
                    <button type="button" (click)='filePicker.click()' class="btn btn success">
                        SÃ©lectionner image</button>
                    <div class="form-group">
                        <input style="visibility: hidden;" type="file" class="form-control" #filePicker
                            (change)='onImageSelected($event)' />
                    </div>
                    <img [src]="imagePreview">
                </div>

                <div class="row mt-3 ">
                    <div class="col-12 text-center">
                        <input type="button" (click)="signup()" value="Sign up"
                            class="btn btn-primary btn-lg px-5">
                    </div>
                </div>
                <div>Form Status: {{ signupForm.status }}</div>
            </form>
        </div>
    </div>
</div>


